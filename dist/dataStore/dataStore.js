(()=>{var v=Object.defineProperty,C=Object.defineProperties;var A=Object.getOwnPropertyDescriptors;var I=Object.getOwnPropertySymbols;var k=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable;var l=(e,t,n)=>t in e?v(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,B=(e,t)=>{for(var n in t||(t={}))k.call(t,n)&&l(e,n,t[n]);if(I)for(var n of I(t))N.call(t,n)&&l(e,n,t[n]);return e},E=(e,t)=>C(e,A(t));var O=(e,t)=>t.some(n=>e instanceof n),M,S;function W(){return M||(M=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function F(){return S||(S=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var g=new WeakMap,m=new WeakMap,L=new WeakMap,p=new WeakMap,h=new WeakMap;function V(e){let t=new Promise((n,r)=>{let s=()=>{e.removeEventListener("success",a),e.removeEventListener("error",o)},a=()=>{n(i(e.result)),s()},o=()=>{r(e.error),s()};e.addEventListener("success",a),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&g.set(n,e)}).catch(()=>{}),h.set(t,e),t}function K(e){if(m.has(e))return;let t=new Promise((n,r)=>{let s=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",o),e.removeEventListener("abort",o)},a=()=>{n(),s()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",a),e.addEventListener("error",o),e.addEventListener("abort",o)});m.set(e,t)}var D={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return m.get(e);if(t==="objectStoreNames")return e.objectStoreNames||L.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return i(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function j(e){D=e(D)}function R(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){let r=e.call(u(this),t,...n);return L.set(r,t.sort?t.sort():[t]),i(r)}:F().includes(e)?function(...t){return e.apply(u(this),t),i(g.get(this))}:function(...t){return i(e.apply(u(this),t))}}function $(e){return typeof e=="function"?R(e):(e instanceof IDBTransaction&&K(e),O(e,W())?new Proxy(e,D):e)}function i(e){if(e instanceof IDBRequest)return V(e);if(p.has(e))return p.get(e);let t=$(e);return t!==e&&(p.set(e,t),h.set(t,e)),t}var u=e=>h.get(e);function b(e,t,{blocked:n,upgrade:r,blocking:s,terminated:a}={}){let o=indexedDB.open(e,t),d=i(o);return r&&o.addEventListener("upgradeneeded",c=>{r(i(o.result),c.oldVersion,c.newVersion,i(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),d.then(c=>{a&&c.addEventListener("close",()=>a()),s&&c.addEventListener("versionchange",()=>s())}).catch(()=>{}),d}var z=["get","getKey","getAll","getAllKeys","count"],G=["put","add","delete","clear"],w=new Map;function x(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(w.get(t))return w.get(t);let n=t.replace(/FromIndex$/,""),r=t!==n,s=G.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||z.includes(n)))return;let a=async function(o,...d){let c=this.transaction(o,s?"readwrite":"readonly"),f=c.store;return r&&(f=f.index(d.shift())),(await Promise.all([f[n](...d),s&&c.done]))[0]};return w.set(t,a),a}j(e=>E(B({},e),{get:(t,n,r)=>x(t,n)||e.get(t,n,r),has:(t,n)=>!!x(t,n)||e.has(t,n)}));var P="notesDB",y="notesStore",T=1;async function Z(e,t){return await(await b(P,T,{upgrade(r){let s=r.createObjectStore(y,{keyPath:"id",autoIncrement:!0})}})).add(y,{title:t.title,timeStamp:t.timeStamp,content:t.content}),!0}async function _(){return await(await b(P,T,{upgrade(n){n.createObjectStore(y,{keyPath:"id",autoIncrement:!0}).createIndex("timeStamp","timeStamp")}})).getAllFromIndex("articles","date")}})();
//# sourceMappingURL=dataStore.js.map
