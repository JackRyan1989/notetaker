(()=>{var Yt=Object.create;var A=Object.defineProperty,Ft=Object.defineProperties,Vt=Object.getOwnPropertyDescriptor,Ut=Object.getOwnPropertyDescriptors,Jt=Object.getOwnPropertyNames,ht=Object.getOwnPropertySymbols,Zt=Object.getPrototypeOf,mt=Object.prototype.hasOwnProperty,zt=Object.prototype.propertyIsEnumerable;var pt=(t,e,n)=>e in t?A(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,yt=(t,e)=>{for(var n in e||(e={}))mt.call(e,n)&&pt(t,n,e[n]);if(ht)for(var n of ht(e))zt.call(e,n)&&pt(t,n,e[n]);return t},$t=(t,e)=>Ft(t,Ut(e)),wt=t=>A(t,"__esModule",{value:!0});var Kt=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Rt=(t,e)=>{wt(t);for(var n in e)A(t,n,{get:e[n],enumerable:!0})},qt=(t,e,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Jt(e))!mt.call(t,o)&&o!=="default"&&A(t,o,{get:()=>e[o],enumerable:!(n=Vt(e,o))||n.enumerable});return t},Qt=t=>qt(wt(A(t!=null?Yt(Zt(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);var xt=Kt((tt,et)=>{(function(t,e){typeof tt=="object"&&typeof et!="undefined"?et.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis!="undefined"?globalThis:t||self).dayjs=e()})(tt,function(){"use strict";var t=1e3,e=6e4,n=36e5,o="millisecond",l="second",m="minute",f="hour",g="day",y="week",D="month",dt="quarter",x="year",C="date",lt="Invalid Date",_t=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,kt=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Ht={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},J=function(a,s,r){var u=String(a);return!u||u.length>=s?a:""+Array(s+1-u.length).join(r)+a},Wt={s:J,z:function(a){var s=-a.utcOffset(),r=Math.abs(s),u=Math.floor(r/60),i=r%60;return(s<=0?"+":"-")+J(u,2,"0")+":"+J(i,2,"0")},m:function a(s,r){if(s.date()<r.date())return-a(r,s);var u=12*(r.year()-s.year())+(r.month()-s.month()),i=s.clone().add(u,D),d=r-i<0,c=s.clone().add(u+(d?-1:1),D);return+(-(u+(r-i)/(d?i-c:c-i))||0)},a:function(a){return a<0?Math.ceil(a)||0:Math.floor(a)},p:function(a){return{M:D,y:x,w:y,d:g,D:C,h:f,m,s:l,ms:o,Q:dt}[a]||String(a||"").toLowerCase().replace(/s$/,"")},u:function(a){return a===void 0}},T="en",O={};O[T]=Ht;var Z=function(a){return a instanceof H},k=function(a,s,r){var u;if(!a)return T;if(typeof a=="string")O[a]&&(u=a),s&&(O[a]=s,u=a);else{var i=a.name;O[i]=a,u=i}return!r&&u&&(T=u),u||!r&&T},v=function(a,s){if(Z(a))return a.clone();var r=typeof s=="object"?s:{};return r.date=a,r.args=arguments,new H(r)},h=Wt;h.l=k,h.i=Z,h.w=function(a,s){return v(a,{locale:s.$L,utc:s.$u,x:s.$x,$offset:s.$offset})};var H=function(){function a(r){this.$L=k(r.locale,null,!0),this.parse(r)}var s=a.prototype;return s.parse=function(r){this.$d=function(u){var i=u.date,d=u.utc;if(i===null)return new Date(NaN);if(h.u(i))return new Date;if(i instanceof Date)return new Date(i);if(typeof i=="string"&&!/Z$/i.test(i)){var c=i.match(_t);if(c){var p=c[2]-1||0,w=(c[7]||"0").substring(0,3);return d?new Date(Date.UTC(c[1],p,c[3]||1,c[4]||0,c[5]||0,c[6]||0,w)):new Date(c[1],p,c[3]||1,c[4]||0,c[5]||0,c[6]||0,w)}}return new Date(i)}(r),this.$x=r.x||{},this.init()},s.init=function(){var r=this.$d;this.$y=r.getFullYear(),this.$M=r.getMonth(),this.$D=r.getDate(),this.$W=r.getDay(),this.$H=r.getHours(),this.$m=r.getMinutes(),this.$s=r.getSeconds(),this.$ms=r.getMilliseconds()},s.$utils=function(){return h},s.isValid=function(){return this.$d.toString()!==lt},s.isSame=function(r,u){var i=v(r);return this.startOf(u)<=i&&i<=this.endOf(u)},s.isAfter=function(r,u){return v(r)<this.startOf(u)},s.isBefore=function(r,u){return this.endOf(u)<v(r)},s.$g=function(r,u,i){return h.u(r)?this[u]:this.set(i,r)},s.unix=function(){return Math.floor(this.valueOf()/1e3)},s.valueOf=function(){return this.$d.getTime()},s.startOf=function(r,u){var i=this,d=!!h.u(u)||u,c=h.p(r),p=function(N,M){var L=h.w(i.$u?Date.UTC(i.$y,M,N):new Date(i.$y,M,N),i);return d?L:L.endOf(g)},w=function(N,M){return h.w(i.toDate()[N].apply(i.toDate("s"),(d?[0,0,0,0]:[23,59,59,999]).slice(M)),i)},$=this.$W,b=this.$M,I=this.$D,B="set"+(this.$u?"UTC":"");switch(c){case x:return d?p(1,0):p(31,11);case D:return d?p(1,b):p(0,b+1);case y:var j=this.$locale().weekStart||0,P=($<j?$+7:$)-j;return p(d?I-P:I+(6-P),b);case g:case C:return w(B+"Hours",0);case f:return w(B+"Minutes",1);case m:return w(B+"Seconds",2);case l:return w(B+"Milliseconds",3);default:return this.clone()}},s.endOf=function(r){return this.startOf(r,!1)},s.$set=function(r,u){var i,d=h.p(r),c="set"+(this.$u?"UTC":""),p=(i={},i[g]=c+"Date",i[C]=c+"Date",i[D]=c+"Month",i[x]=c+"FullYear",i[f]=c+"Hours",i[m]=c+"Minutes",i[l]=c+"Seconds",i[o]=c+"Milliseconds",i)[d],w=d===g?this.$D+(u-this.$W):u;if(d===D||d===x){var $=this.clone().set(C,1);$.$d[p](w),$.init(),this.$d=$.set(C,Math.min(this.$D,$.daysInMonth())).$d}else p&&this.$d[p](w);return this.init(),this},s.set=function(r,u){return this.clone().$set(r,u)},s.get=function(r){return this[h.p(r)]()},s.add=function(r,u){var i,d=this;r=Number(r);var c=h.p(u),p=function(b){var I=v(d);return h.w(I.date(I.date()+Math.round(b*r)),d)};if(c===D)return this.set(D,this.$M+r);if(c===x)return this.set(x,this.$y+r);if(c===g)return p(1);if(c===y)return p(7);var w=(i={},i[m]=e,i[f]=n,i[l]=t,i)[c]||1,$=this.$d.getTime()+r*w;return h.w($,this)},s.subtract=function(r,u){return this.add(-1*r,u)},s.format=function(r){var u=this,i=this.$locale();if(!this.isValid())return i.invalidDate||lt;var d=r||"YYYY-MM-DDTHH:mm:ssZ",c=h.z(this),p=this.$H,w=this.$m,$=this.$M,b=i.weekdays,I=i.months,B=function(M,L,z,W){return M&&(M[L]||M(u,d))||z[L].substr(0,W)},j=function(M){return h.s(p%12||12,M,"0")},P=i.meridiem||function(M,L,z){var W=M<12?"AM":"PM";return z?W.toLowerCase():W},N={YY:String(this.$y).slice(-2),YYYY:this.$y,M:$+1,MM:h.s($+1,2,"0"),MMM:B(i.monthsShort,$,I,3),MMMM:B(I,$),D:this.$D,DD:h.s(this.$D,2,"0"),d:String(this.$W),dd:B(i.weekdaysMin,this.$W,b,2),ddd:B(i.weekdaysShort,this.$W,b,3),dddd:b[this.$W],H:String(p),HH:h.s(p,2,"0"),h:j(1),hh:j(2),a:P(p,w,!0),A:P(p,w,!1),m:String(w),mm:h.s(w,2,"0"),s:String(this.$s),ss:h.s(this.$s,2,"0"),SSS:h.s(this.$ms,3,"0"),Z:c};return d.replace(kt,function(M,L){return L||N[M]||c.replace(":","")})},s.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},s.diff=function(r,u,i){var d,c=h.p(u),p=v(r),w=(p.utcOffset()-this.utcOffset())*e,$=this-p,b=h.m(this,p);return b=(d={},d[x]=b/12,d[D]=b,d[dt]=b/3,d[y]=($-w)/6048e5,d[g]=($-w)/864e5,d[f]=$/n,d[m]=$/e,d[l]=$/t,d)[c]||$,i?b:h.a(b)},s.daysInMonth=function(){return this.endOf(D).$D},s.$locale=function(){return O[this.$L]},s.locale=function(r,u){if(!r)return this.$L;var i=this.clone(),d=k(r,u,!0);return d&&(i.$L=d),i},s.clone=function(){return h.w(this.$d,this)},s.toDate=function(){return new Date(this.valueOf())},s.toJSON=function(){return this.isValid()?this.toISOString():null},s.toISOString=function(){return this.$d.toISOString()},s.toString=function(){return this.$d.toUTCString()},a}(),ft=H.prototype;return v.prototype=ft,[["$ms",o],["$s",l],["$m",m],["$H",f],["$W",g],["$M",D],["$y",x],["$D",C]].forEach(function(a){ft[a[1]]=function(s){return this.$g(s,a[0],a[1])}}),v.extend=function(a,s){return a.$i||(a(s,H,v),a.$i=!0),v},v.locale=k,v.isDayjs=Z,v.unix=function(a){return v(1e3*a)},v.en=O[T],v.Ls=O,v.p={},v})});function vt(t){return{get:function(e,n){return["object Object","object Array"].includes(Object.prototype.toString.call(e[n]))?new Proxy(e[n],vt(t)):e[n]},set:function(e,n,o){return e[n]=o,!0},deleteProperty:function(e,n){return delete e[n],t.render(),!0}}}var bt=class{constructor(e,n){this.elem=document.querySelector(e),this.data=new Proxy(n.data,vt(this)),this.template=n.template,this.render=function(o){o?this.elem.innerHTML=this.template(o):this.elem.innerHTML=this.template(this.data)},this.onInput=function(o){let{id:l,value:m}=o.target;this.data.id===null&&(this.data.id=1),l==="title"&&(this.data.title=m,this.data.timeStamp=Date.now()),l==="mainContent"&&(this.data.content=m)},this.elem.addEventListener("input",this.onInput.bind(this))}},K=bt;function gt(t){return{get:function(e,n){return["object Object","object Array"].includes(Object.prototype.toString.call(e[n]))?new Proxy(e[n],gt(t)):e[n]},set:function(e,n,o){return e[n]=o,!0},deleteProperty:function(e,n){return delete e[n],t.render(),!0}}}var Dt=class{constructor(e,n,o,l){this.elem=document.querySelector(e),this.data=new Proxy(n.data,gt(this)),this.template=n.template,this.render=function(){this.elem.innerHTML=this.template(this.data)},this.onClick=function(m){if(m.target.id==="save"&&(o.addItem(this.data.note.id,this.data.note),l.render()),m.target.id==="new"){let f={id:null,timeStamp:null,title:"",content:""};l[0].render(f),l[1].render(f)}},this.elem.addEventListener("click",this.onClick.bind(this))}},R=Dt;function Mt(t){return{get:function(e,n){return["object Object","object Array"].includes(Object.prototype.toString.call(e[n]))?new Proxy(e[n],Mt(t)):e[n]},set:function(e,n,o){return e[n]=o,t.render(),!0},deleteProperty:function(e,n){return delete e[n],t.render(),!0}}}var St=class{constructor(e,n,o,l,m){this.elem=document.querySelector(e),this.visible=!1,this.data=new Proxy(n,Mt(this)),this.template=o.template,this.addOpenListener=function(){let f=Array.from(document.getElementsByClassName("deleteButton"));Array.from(document.getElementsByClassName("verticalHolder")).forEach(y=>{y.addEventListener("click",()=>{y.id===y.childNodes[2].id&&this.visible===!1?(y.childNodes[2].setAttribute("class","shown"),this.visible=!this.visible):y.id===y.childNodes[2].id&&this.visible===!0&&(y.childNodes[2].setAttribute("class","hidden"),this.visible=!this.visible)})}),f.forEach(y=>{y.addEventListener("click",()=>{m.deleteNote(y.id),this.render()})})},this.render=async function(){this.data=await l(),this.elem.innerHTML=this.template(this.data),this.addOpenListener()}}},Bt=St;function q(t){return t?`<label for="mainContent">Notes</label> <textarea id="mainContent" name="mainContent" rows="20" cols="100" value=${t.content} placeholder="Notes">${t.content}</textarea>`:"<p>No data supplied.</p>"}function Q(t){return t?`<label for="mainContent">Title</label> <textarea id="title" name="title" rows="1" cols="50" value=${t.title} placeholder="Title">${t.title}</textarea>`:"<p>No data supplied.</p>"}function G(t){return t?'<button id="save" class="saveButton">Save Note</button>':'<button class="saveButton disabled" aria-disabled="true">Save Note</button>'}function X(t){return t?'<button id="new" class="newButton">New Note</button>':'<button class="newButton disabled" aria-disabled="true">New Note</button>'}var It=Qt(xt());function nt(t){return t.length===0?"<p>No notes yet! Write something.</p>":`<div class="notesWrapper">
      ${t.reverse().map(function(e,n){return`<div class="verticalHolder" id="${n}"><p class="vert">${e.title} ${(0,It.default)(e.timestamp).format("MM/DD/YYYY")}</p>
        <div class="hidden" id=${n}><p class="content">${e.content}</p> <div id="delBtnHolder"><button id=${e.id} class="deleteButton">Delete Note</button></div></div>
        </div>`}).join("")}
    </div>`}var _={};Rt(_,{addItem:()=>ae,deleteNote:()=>ue,getItems:()=>jt});var Gt=(t,e)=>e.some(n=>t instanceof n),Lt,Ot;function Xt(){return Lt||(Lt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function te(){return Ot||(Ot=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Ct=new WeakMap,rt=new WeakMap,Nt=new WeakMap,it=new WeakMap,st=new WeakMap;function ee(t){let e=new Promise((n,o)=>{let l=()=>{t.removeEventListener("success",m),t.removeEventListener("error",f)},m=()=>{n(S(t.result)),l()},f=()=>{o(t.error),l()};t.addEventListener("success",m),t.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&Ct.set(n,t)}).catch(()=>{}),st.set(e,t),e}function ne(t){if(rt.has(t))return;let e=new Promise((n,o)=>{let l=()=>{t.removeEventListener("complete",m),t.removeEventListener("error",f),t.removeEventListener("abort",f)},m=()=>{n(),l()},f=()=>{o(t.error||new DOMException("AbortError","AbortError")),l()};t.addEventListener("complete",m),t.addEventListener("error",f),t.addEventListener("abort",f)});rt.set(t,e)}var ot={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return rt.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Nt.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return S(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Et(t){ot=t(ot)}function re(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let o=t.call(Y(this),e,...n);return Nt.set(o,e.sort?e.sort():[e]),S(o)}:te().includes(t)?function(...e){return t.apply(Y(this),e),S(Ct.get(this))}:function(...e){return S(t.apply(Y(this),e))}}function ie(t){return typeof t=="function"?re(t):(t instanceof IDBTransaction&&ne(t),Gt(t,Xt())?new Proxy(t,ot):t)}function S(t){if(t instanceof IDBRequest)return ee(t);if(it.has(t))return it.get(t);let e=ie(t);return e!==t&&(it.set(t,e),st.set(e,t)),e}var Y=t=>st.get(t);function F(t,e,{blocked:n,upgrade:o,blocking:l,terminated:m}={}){let f=indexedDB.open(t,e),g=S(f);return o&&f.addEventListener("upgradeneeded",y=>{o(S(f.result),y.oldVersion,y.newVersion,S(f.transaction))}),n&&f.addEventListener("blocked",()=>n()),g.then(y=>{m&&y.addEventListener("close",()=>m()),l&&y.addEventListener("versionchange",()=>l())}).catch(()=>{}),g}var se=["get","getKey","getAll","getAllKeys","count"],oe=["put","add","delete","clear"],at=new Map;function Tt(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(at.get(e))return at.get(e);let n=e.replace(/FromIndex$/,""),o=e!==n,l=oe.includes(n);if(!(n in(o?IDBIndex:IDBObjectStore).prototype)||!(l||se.includes(n)))return;let m=async function(f,...g){let y=this.transaction(f,l?"readwrite":"readonly"),D=y.store;return o&&(D=D.index(g.shift())),(await Promise.all([D[n](...g),l&&y.done]))[0]};return at.set(e,m),m}Et(t=>$t(yt({},t),{get:(e,n,o)=>Tt(e,n)||t.get(e,n,o),has:(e,n)=>!!Tt(e,n)||t.has(e,n)}));var ut="notesDB",E="notesStore",ct=1,V;async function ae(t,e){let n=await F(ut,ct,{upgrade(o){o.createObjectStore(E,{keyPath:"id",autoIncrement:!0}).createIndex("timeStamp","timeStamp")}});try{await n.add(E,{title:e.title,timeStamp:e.timeStamp,content:e.content})}catch(o){console.log(o)}}async function jt(){let t=await F(ut,ct,{upgrade(e){e.createObjectStore(E,{keyPath:"id",autoIncrement:!0}).createIndex("timeStamp","timeStamp")}});try{V=await t.getAllFromIndex(E,"timeStamp")}catch(e){return console.log(e),[]}return V}async function ue(t){t=parseInt(t);let e=await F(ut,ct,{upgrade(n){n.createObjectStore(E,{keyPath:"id",autoIncrement:!0}).createIndex("timeStamp","timeStamp")}});try{V=await e.delete(E,t)}catch(n){return console.log(n),n}return V}"serviceWorker"in navigator&&navigator.serviceWorker.register("./sw.js");var U={id:null,timeStamp:null,title:"",content:""},Pt=[];async function At(){return await jt()}(async()=>{let t=new K("#titleEntryContainer",{data:U,template:Q}),e=new K("#noteEntryContainer",{data:U,template:q}),n=new Bt("#notesListContainer",await At(),{template:nt},At,_),o=new R("#saveContainer",{data:{note:U,notes:Pt},template:G},_,n),l=new R("#newContainer",{data:{note:U,notes:Pt},template:X},_,[t,e]);t.render(),e.render(),o.render(),l.render(),n.render(),n.addOpenListener()})();})();
//# sourceMappingURL=app.js.map
