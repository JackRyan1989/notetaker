(()=>{var Yt=Object.create;var P=Object.defineProperty,Ft=Object.defineProperties,Vt=Object.getOwnPropertyDescriptor,Ut=Object.getOwnPropertyDescriptors,Jt=Object.getOwnPropertyNames,dt=Object.getOwnPropertySymbols,Zt=Object.getPrototypeOf,lt=Object.prototype.hasOwnProperty,zt=Object.prototype.propertyIsEnumerable;var ft=(t,e,n)=>e in t?P(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ht=(t,e)=>{for(var n in e||(e={}))lt.call(e,n)&&ft(t,n,e[n]);if(dt)for(var n of dt(e))zt.call(e,n)&&ft(t,n,e[n]);return t},mt=(t,e)=>Ft(t,Ut(e)),pt=t=>P(t,"__esModule",{value:!0});var Kt=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Rt=(t,e)=>{pt(t);for(var n in e)P(t,n,{get:e[n],enumerable:!0})},qt=(t,e,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let u of Jt(e))!lt.call(t,u)&&u!=="default"&&P(t,u,{get:()=>e[u],enumerable:!(n=Vt(e,u))||n.enumerable});return t},Qt=t=>qt(pt(P(t!=null?Yt(Zt(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);var Mt=Kt((G,X)=>{(function(t,e){typeof G=="object"&&typeof X!="undefined"?X.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis!="undefined"?globalThis:t||self).dayjs=e()})(G,function(){"use strict";var t=1e3,e=6e4,n=36e5,u="millisecond",f="second",m="minute",l="hour",g="day",M="week",b="month",at="quarter",x="year",C="date",ut="Invalid Date",_t=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,kt=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Wt={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},V=function(o,s,r){var a=String(o);return!a||a.length>=s?o:""+Array(s+1-a.length).join(r)+o},Ht={s:V,z:function(o){var s=-o.utcOffset(),r=Math.abs(s),a=Math.floor(r/60),i=r%60;return(s<=0?"+":"-")+V(a,2,"0")+":"+V(i,2,"0")},m:function o(s,r){if(s.date()<r.date())return-o(r,s);var a=12*(r.year()-s.year())+(r.month()-s.month()),i=s.clone().add(a,b),d=r-i<0,c=s.clone().add(a+(d?-1:1),b);return+(-(a+(r-i)/(d?i-c:c-i))||0)},a:function(o){return o<0?Math.ceil(o)||0:Math.floor(o)},p:function(o){return{M:b,y:x,w:M,d:g,D:C,h:l,m,s:f,ms:u,Q:at}[o]||String(o||"").toLowerCase().replace(/s$/,"")},u:function(o){return o===void 0}},E="en",O={};O[E]=Wt;var U=function(o){return o instanceof _},A=function(o,s,r){var a;if(!o)return E;if(typeof o=="string")O[o]&&(a=o),s&&(O[o]=s,a=o);else{var i=o.name;O[i]=o,a=i}return!r&&a&&(E=a),a||!r&&E},w=function(o,s){if(U(o))return o.clone();var r=typeof s=="object"?s:{};return r.date=o,r.args=arguments,new _(r)},h=Ht;h.l=A,h.i=U,h.w=function(o,s){return w(o,{locale:s.$L,utc:s.$u,x:s.$x,$offset:s.$offset})};var _=function(){function o(r){this.$L=A(r.locale,null,!0),this.parse(r)}var s=o.prototype;return s.parse=function(r){this.$d=function(a){var i=a.date,d=a.utc;if(i===null)return new Date(NaN);if(h.u(i))return new Date;if(i instanceof Date)return new Date(i);if(typeof i=="string"&&!/Z$/i.test(i)){var c=i.match(_t);if(c){var p=c[2]-1||0,$=(c[7]||"0").substring(0,3);return d?new Date(Date.UTC(c[1],p,c[3]||1,c[4]||0,c[5]||0,c[6]||0,$)):new Date(c[1],p,c[3]||1,c[4]||0,c[5]||0,c[6]||0,$)}}return new Date(i)}(r),this.$x=r.x||{},this.init()},s.init=function(){var r=this.$d;this.$y=r.getFullYear(),this.$M=r.getMonth(),this.$D=r.getDate(),this.$W=r.getDay(),this.$H=r.getHours(),this.$m=r.getMinutes(),this.$s=r.getSeconds(),this.$ms=r.getMilliseconds()},s.$utils=function(){return h},s.isValid=function(){return this.$d.toString()!==ut},s.isSame=function(r,a){var i=w(r);return this.startOf(a)<=i&&i<=this.endOf(a)},s.isAfter=function(r,a){return w(r)<this.startOf(a)},s.isBefore=function(r,a){return this.endOf(a)<w(r)},s.$g=function(r,a,i){return h.u(r)?this[a]:this.set(i,r)},s.unix=function(){return Math.floor(this.valueOf()/1e3)},s.valueOf=function(){return this.$d.getTime()},s.startOf=function(r,a){var i=this,d=!!h.u(a)||a,c=h.p(r),p=function(T,D){var L=h.w(i.$u?Date.UTC(i.$y,D,T):new Date(i.$y,D,T),i);return d?L:L.endOf(g)},$=function(T,D){return h.w(i.toDate()[T].apply(i.toDate("s"),(d?[0,0,0,0]:[23,59,59,999]).slice(D)),i)},y=this.$W,v=this.$M,I=this.$D,B="set"+(this.$u?"UTC":"");switch(c){case x:return d?p(1,0):p(31,11);case b:return d?p(1,v):p(0,v+1);case M:var N=this.$locale().weekStart||0,j=(y<N?y+7:y)-N;return p(d?I-j:I+(6-j),v);case g:case C:return $(B+"Hours",0);case l:return $(B+"Minutes",1);case m:return $(B+"Seconds",2);case f:return $(B+"Milliseconds",3);default:return this.clone()}},s.endOf=function(r){return this.startOf(r,!1)},s.$set=function(r,a){var i,d=h.p(r),c="set"+(this.$u?"UTC":""),p=(i={},i[g]=c+"Date",i[C]=c+"Date",i[b]=c+"Month",i[x]=c+"FullYear",i[l]=c+"Hours",i[m]=c+"Minutes",i[f]=c+"Seconds",i[u]=c+"Milliseconds",i)[d],$=d===g?this.$D+(a-this.$W):a;if(d===b||d===x){var y=this.clone().set(C,1);y.$d[p]($),y.init(),this.$d=y.set(C,Math.min(this.$D,y.daysInMonth())).$d}else p&&this.$d[p]($);return this.init(),this},s.set=function(r,a){return this.clone().$set(r,a)},s.get=function(r){return this[h.p(r)]()},s.add=function(r,a){var i,d=this;r=Number(r);var c=h.p(a),p=function(v){var I=w(d);return h.w(I.date(I.date()+Math.round(v*r)),d)};if(c===b)return this.set(b,this.$M+r);if(c===x)return this.set(x,this.$y+r);if(c===g)return p(1);if(c===M)return p(7);var $=(i={},i[m]=e,i[l]=n,i[f]=t,i)[c]||1,y=this.$d.getTime()+r*$;return h.w(y,this)},s.subtract=function(r,a){return this.add(-1*r,a)},s.format=function(r){var a=this,i=this.$locale();if(!this.isValid())return i.invalidDate||ut;var d=r||"YYYY-MM-DDTHH:mm:ssZ",c=h.z(this),p=this.$H,$=this.$m,y=this.$M,v=i.weekdays,I=i.months,B=function(D,L,J,k){return D&&(D[L]||D(a,d))||J[L].substr(0,k)},N=function(D){return h.s(p%12||12,D,"0")},j=i.meridiem||function(D,L,J){var k=D<12?"AM":"PM";return J?k.toLowerCase():k},T={YY:String(this.$y).slice(-2),YYYY:this.$y,M:y+1,MM:h.s(y+1,2,"0"),MMM:B(i.monthsShort,y,I,3),MMMM:B(I,y),D:this.$D,DD:h.s(this.$D,2,"0"),d:String(this.$W),dd:B(i.weekdaysMin,this.$W,v,2),ddd:B(i.weekdaysShort,this.$W,v,3),dddd:v[this.$W],H:String(p),HH:h.s(p,2,"0"),h:N(1),hh:N(2),a:j(p,$,!0),A:j(p,$,!1),m:String($),mm:h.s($,2,"0"),s:String(this.$s),ss:h.s(this.$s,2,"0"),SSS:h.s(this.$ms,3,"0"),Z:c};return d.replace(kt,function(D,L){return L||T[D]||c.replace(":","")})},s.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},s.diff=function(r,a,i){var d,c=h.p(a),p=w(r),$=(p.utcOffset()-this.utcOffset())*e,y=this-p,v=h.m(this,p);return v=(d={},d[x]=v/12,d[b]=v,d[at]=v/3,d[M]=(y-$)/6048e5,d[g]=(y-$)/864e5,d[l]=y/n,d[m]=y/e,d[f]=y/t,d)[c]||y,i?v:h.a(v)},s.daysInMonth=function(){return this.endOf(b).$D},s.$locale=function(){return O[this.$L]},s.locale=function(r,a){if(!r)return this.$L;var i=this.clone(),d=A(r,a,!0);return d&&(i.$L=d),i},s.clone=function(){return h.w(this.$d,this)},s.toDate=function(){return new Date(this.valueOf())},s.toJSON=function(){return this.isValid()?this.toISOString():null},s.toISOString=function(){return this.$d.toISOString()},s.toString=function(){return this.$d.toUTCString()},o}(),ct=_.prototype;return w.prototype=ct,[["$ms",u],["$s",f],["$m",m],["$H",l],["$W",g],["$M",b],["$y",x],["$D",C]].forEach(function(o){ct[o[1]]=function(s){return this.$g(s,o[0],o[1])}}),w.extend=function(o,s){return o.$i||(o(s,_,w),o.$i=!0),w},w.locale=A,w.isDayjs=U,w.unix=function(o){return w(1e3*o)},w.en=O[E],w.Ls=O,w.p={},w})});function yt(t){return{get:function(e,n){return["object Object","object Array"].includes(Object.prototype.toString.call(e[n]))?new Proxy(e[n],yt(t)):e[n]},set:function(e,n,u){return e[n]=u,!0},deleteProperty:function(e,n){return delete e[n],t.render(),!0}}}var $t=class{constructor(e,n){this.elem=document.querySelector(e),this.data=new Proxy(n.data,yt(this)),this.template=n.template,this.render=function(u){u?this.elem.innerHTML=this.template(u):this.elem.innerHTML=this.template(this.data)},this.onInput=function(u){let{id:f,value:m}=u.target;this.data.id===null&&(this.data.id=1),f==="title"&&(this.data.title=m,this.data.timeStamp=Date.now()),f==="mainContent"&&(this.data.content=m)},this.elem.addEventListener("input",this.onInput.bind(this))}},Z=$t;function wt(t){return{get:function(e,n){return["object Object","object Array"].includes(Object.prototype.toString.call(e[n]))?new Proxy(e[n],wt(t)):e[n]},set:function(e,n,u){return e[n]=u,!0},deleteProperty:function(e,n){return delete e[n],t.render(),!0}}}var vt=class{constructor(e,n,u,f){this.elem=document.querySelector(e),this.data=new Proxy(n.data,wt(this)),this.template=n.template,this.render=function(){console.log("button rerender"),this.elem.innerHTML=this.template(this.data)},this.onClick=function(m){if(m.target.id==="save"&&(u.addItem(this.data.note.id,this.data.note),f.render()),m.target.id==="new"){let l={id:null,timeStamp:null,title:"",content:""};f[0].render(l),f[1].render(l)}},this.elem.addEventListener("click",this.onClick.bind(this))}},z=vt;function bt(t){return{get:function(e,n){return["object Object","object Array"].includes(Object.prototype.toString.call(e[n]))?new Proxy(e[n],bt(t)):e[n]},set:function(e,n,u){return e[n]=u,t.render(),!0},deleteProperty:function(e,n){return delete e[n],t.render(),!0}}}var gt=class{constructor(e,n,u,f){this.elem=document.querySelector(e),this.visible=!1,this.data=new Proxy(n,bt(this)),this.template=u.template,this.addOpenListener=function(){Array.from(document.getElementsByClassName("verticalHolder")).forEach(l=>{l.addEventListener("click",()=>{l.id===l.childNodes[2].id&&this.visible===!1?(l.childNodes[2].setAttribute("class","shown"),this.visible=!this.visible):l.id===l.childNodes[2].id&&this.visible===!0&&(l.childNodes[2].setAttribute("class","hidden"),this.visible=!this.visible)})})},this.render=async function(){this.data=await f(),this.elem.innerHTML=this.template(this.data),this.addOpenListener()}}},Dt=gt;function K(t){return t?`<label for="mainContent">Notes</label> <textarea id="mainContent" name="mainContent" rows="20" cols="100" value=${t.content} placeholder="Notes">${t.content}</textarea>`:"<p>No data supplied.</p>"}function R(t){return t?`<label for="mainContent">Title</label> <textarea id="title" name="title" rows="1" cols="50" value=${t.title} placeholder="Title">${t.title}</textarea>`:"<p>No data supplied.</p>"}function q(t){return t?'<button id="save" class="saveButton">Save Note</button>':'<button class="saveButton disabled" aria-disabled="true">Save Note</button>'}function Q(t){return t?'<button id="new" class="newButton">New Note</button>':'<button class="newButton disabled" aria-disabled="true">New Note</button>'}var St=Qt(Mt());function tt(t){return t.length===0?"<p>No notes yet! Write something.</p>":`<div class="notesWrapper">
      ${t.map(function(e,n){return`<div class="verticalHolder" id="${n}"><p class="vert">${e.title} ${(0,St.default)(t.timestamp).format("MM/DD/YYYY")}</p>
        <div class="hidden" id=${n}><p>${e.content}</p></div>
        </div>`}).join("")}
    </div>`}var Y={};Rt(Y,{addItem:()=>ae,getItems:()=>jt});var Gt=(t,e)=>e.some(n=>t instanceof n),Bt,xt;function Xt(){return Bt||(Bt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function te(){return xt||(xt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var It=new WeakMap,et=new WeakMap,Lt=new WeakMap,nt=new WeakMap,rt=new WeakMap;function ee(t){let e=new Promise((n,u)=>{let f=()=>{t.removeEventListener("success",m),t.removeEventListener("error",l)},m=()=>{n(S(t.result)),f()},l=()=>{u(t.error),f()};t.addEventListener("success",m),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&It.set(n,t)}).catch(()=>{}),rt.set(e,t),e}function ne(t){if(et.has(t))return;let e=new Promise((n,u)=>{let f=()=>{t.removeEventListener("complete",m),t.removeEventListener("error",l),t.removeEventListener("abort",l)},m=()=>{n(),f()},l=()=>{u(t.error||new DOMException("AbortError","AbortError")),f()};t.addEventListener("complete",m),t.addEventListener("error",l),t.addEventListener("abort",l)});et.set(t,e)}var it={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return et.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Lt.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return S(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Ot(t){it=t(it)}function re(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let u=t.call(W(this),e,...n);return Lt.set(u,e.sort?e.sort():[e]),S(u)}:te().includes(t)?function(...e){return t.apply(W(this),e),S(It.get(this))}:function(...e){return S(t.apply(W(this),e))}}function ie(t){return typeof t=="function"?re(t):(t instanceof IDBTransaction&&ne(t),Gt(t,Xt())?new Proxy(t,it):t)}function S(t){if(t instanceof IDBRequest)return ee(t);if(nt.has(t))return nt.get(t);let e=ie(t);return e!==t&&(nt.set(t,e),rt.set(e,t)),e}var W=t=>rt.get(t);function st(t,e,{blocked:n,upgrade:u,blocking:f,terminated:m}={}){let l=indexedDB.open(t,e),g=S(l);return u&&l.addEventListener("upgradeneeded",M=>{u(S(l.result),M.oldVersion,M.newVersion,S(l.transaction))}),n&&l.addEventListener("blocked",()=>n()),g.then(M=>{m&&M.addEventListener("close",()=>m()),f&&M.addEventListener("versionchange",()=>f())}).catch(()=>{}),g}var se=["get","getKey","getAll","getAllKeys","count"],oe=["put","add","delete","clear"],ot=new Map;function Ct(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ot.get(e))return ot.get(e);let n=e.replace(/FromIndex$/,""),u=e!==n,f=oe.includes(n);if(!(n in(u?IDBIndex:IDBObjectStore).prototype)||!(f||se.includes(n)))return;let m=async function(l,...g){let M=this.transaction(l,f?"readwrite":"readonly"),b=M.store;return u&&(b=b.index(g.shift())),(await Promise.all([b[n](...g),f&&M.done]))[0]};return ot.set(e,m),m}Ot(t=>mt(ht({},t),{get:(e,n,u)=>Ct(e,n)||t.get(e,n,u),has:(e,n)=>!!Ct(e,n)||t.has(e,n)}));var Tt="notesDB",H="notesStore",Et=1,Nt;async function ae(t,e){let n=await st(Tt,Et,{upgrade(u){let f=u.createObjectStore(H,{keyPath:"id",autoIncrement:!0})}});try{await n.add(H,{title:e.title,timeStamp:e.timeStamp,content:e.content})}catch(u){console.log(u)}}async function jt(){let t=await st(Tt,Et,{upgrade(e){e.createObjectStore(H,{keyPath:"id",autoIncrement:!0}).createIndex("timeStamp","timeStamp")}});try{Nt=await t.getAllFromIndex(H,"timeStamp")}catch(e){return console.log(e),[]}return Nt}"serviceWorker"in navigator&&navigator.serviceWorker.register("./sw.js");var F={id:null,timeStamp:null,title:"",content:""},Pt=[];async function At(){return await jt()}(async()=>{let t=new Z("#titleEntryContainer",{data:F,template:R}),e=new Z("#noteEntryContainer",{data:F,template:K}),n=new Dt("#notesListContainer",await At(),{template:tt},At),u=new z("#saveContainer",{data:{note:F,notes:Pt},template:q},Y,n),f=new z("#newContainer",{data:{note:F,notes:Pt},template:Q},Y,[t,e]);t.render(),e.render(),u.render(),f.render(),n.render(),n.addOpenListener()})();})();
//# sourceMappingURL=app.js.map
